{"ast":null,"code":"const sgMail = require('@sendgrid/mail');\n\nexport default async function (req, res) {\n  sgMail.setApiKey(process.env.SENDGRID_API_KEY);\n  const {\n    name,\n    email,\n    text\n  } = req.body;\n  const content = {\n    to: 'micaela.rob@gmail.com',\n    from: 'micaela.rob@gmail.com',\n    subject: `${name} emailed you!! from ${email}`,\n    text: `${name} - ${text}`,\n    html: `<h1>${name},</h1><p>${text}</p><p>${email}</p>`\n  };\n\n  try {\n    await sgMail.send(content);\n    res.status(200).send('Message sent successfully.');\n  } catch (error) {\n    console.log('ERROR', error);\n    res.status(400).send('Message not sent.');\n  }\n}","map":{"version":3,"sources":["/Users/henryfradley/personalProjects/micaela-designs/pages/api/send.js"],"names":["sgMail","require","req","res","setApiKey","process","env","SENDGRID_API_KEY","name","email","text","body","content","to","from","subject","html","send","status","error","console","log"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,gBAAD,CAAtB;;AAEA,eAAe,gBAAeC,GAAf,EAAoBC,GAApB,EAAyB;AACtCH,EAAAA,MAAM,CAACI,SAAP,CAAiBC,OAAO,CAACC,GAAR,CAAYC,gBAA7B;AAEA,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,KAAR;AAAeC,IAAAA;AAAf,MAAwBR,GAAG,CAACS,IAAlC;AAEA,QAAMC,OAAO,GAAG;AACdC,IAAAA,EAAE,EAAE,uBADU;AAEdC,IAAAA,IAAI,EAAE,uBAFQ;AAGdC,IAAAA,OAAO,EAAG,GAAEP,IAAK,uBAAsBC,KAAM,EAH/B;AAIdC,IAAAA,IAAI,EAAG,GAAEF,IAAK,MAAKE,IAAK,EAJV;AAKdM,IAAAA,IAAI,EAAG,OAAMR,IAAK,YAAWE,IAAK,UAASD,KAAM;AALnC,GAAhB;;AAQA,MAAI;AACF,UAAMT,MAAM,CAACiB,IAAP,CAAYL,OAAZ,CAAN;AACAT,IAAAA,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBD,IAAhB,CAAqB,4BAArB;AACD,GAHD,CAGE,OAAOE,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAArB;AACAhB,IAAAA,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBD,IAAhB,CAAqB,mBAArB;AACD;AACF","sourcesContent":["const sgMail = require('@sendgrid/mail')\n\nexport default async function(req, res) {\n  sgMail.setApiKey(process.env.SENDGRID_API_KEY)\n\n  const { name, email, text } = req.body\n\n  const content = {\n    to: 'micaela.rob@gmail.com',\n    from: 'micaela.rob@gmail.com',\n    subject: `${name} emailed you!! from ${email}`,\n    text: `${name} - ${text}`,\n    html: `<h1>${name},</h1><p>${text}</p><p>${email}</p>`\n  }\n\n  try {\n    await sgMail.send(content)\n    res.status(200).send('Message sent successfully.')\n  } catch (error) {\n    console.log('ERROR', error)\n    res.status(400).send('Message not sent.')\n  }\n}"]},"metadata":{},"sourceType":"module"}